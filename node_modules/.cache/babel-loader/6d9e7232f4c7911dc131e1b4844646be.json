{"ast":null,"code":"var _jsxFileName = \"/Users/seongwookang/Projects/untitled/frontend/todo/src/components/Login/Login.js\";\nimport React, { Component } from 'react';\nimport Input from '../UI/Input/Input';\nimport Button from '../UI/Button/Button';\nimport PropTypes from 'prop-types';\nimport { Link, Redirect } from 'react-router-dom';\nimport Header from '../Header/Header';\nimport Toolbar from '../Toolbar/Toolbar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      controls: {\n        email: {\n          elementType: 'input',\n          elementConfig: {\n            type: 'email',\n            placeholder: 'Email'\n          },\n          value: '',\n          validation: {\n            required: true,\n            isEmail: true\n          },\n          valid: false,\n          touched: false\n        },\n        password: {\n          elementType: 'input',\n          elementConfig: {\n            type: 'password',\n            placeholder: 'password'\n          },\n          value: '',\n          validation: {\n            required: true,\n            minLength: 6\n          },\n          valid: false,\n          touched: false\n        }\n      },\n      isSignup: false\n    };\n\n    this.checkValidity = (value, rules) => {\n      let isValid = true;\n\n      if (!rules) {\n        return true;\n      }\n\n      if (rules.required) {\n        isValid = value.trim() && isValid;\n      }\n\n      if (rules.minLength) {\n        isValid = value.length >= rules.minLength && isValid;\n      }\n\n      if (rules.maxLength) {\n        isValid = value.length <= rules.maxLength && isValid;\n      }\n\n      if (rules.isEmail) {\n        const pattern = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\n        isValid = pattern.test(value) && isValid;\n      }\n\n      if (rules.isNumeric) {\n        const pattern = /^\\d+$/;\n        isValid = pattern.test(value) && isValid;\n      }\n\n      return isValid;\n    };\n\n    this.inputChangedHandler = (event, controlName) => {\n      const updatedControls = { ...this.state.controls,\n        [controlName]: { ...this.state.controls[controlName],\n          value: event.target.value,\n          valid: this.checkValidity(event.target.value, this.state.controls[controlName].validation),\n          touched: true\n        }\n      };\n      this.setState({\n        controls: updatedControls\n      });\n    };\n\n    this.handleSignupClick = () => {\n      console.log('sd');\n      this.setState(prevState => {\n        return {\n          isSignup: !prevState.isSignup\n        };\n      });\n    };\n  }\n\n  render() {\n    const formElementsArray = [];\n\n    for (let key in this.state.controls) {\n      formElementsArray.push({\n        id: key,\n        config: this.state.controls[key]\n      });\n    }\n\n    let form = formElementsArray.map(formElement => /*#__PURE__*/_jsxDEV(Input, {\n      elementType: formElement.config.elementType,\n      elementConfig: formElement.config.elementConfig,\n      value: formElement.config.value,\n      invalid: !formElement.config.valid,\n      shouldValidate: formElement.config.validation,\n      touched: formElement.config.touched,\n      changed: event => this.inputChangedHandler(event, formElement.id)\n    }, formElement.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this));\n    let loginRedirect = null;\n\n    if (this.state.isSignup) {\n      loginRedirect = /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/signup\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 23\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ui container\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Toolbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ui compact segment\",\n        children: [loginRedirect, /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"ui form\",\n          onSubmit: this.submitHandler,\n          children: [form, /*#__PURE__*/_jsxDEV(Button, {\n            btnType: \"green\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        btnType: \"bottom attached\",\n        clicked: this.handleSignupClick,\n        children: \"SignUp\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/seongwookang/Projects/untitled/frontend/todo/src/components/Login/Login.js"],"names":["React","Component","Input","Button","PropTypes","Link","Redirect","Header","Toolbar","Login","state","controls","email","elementType","elementConfig","type","placeholder","value","validation","required","isEmail","valid","touched","password","minLength","isSignup","checkValidity","rules","isValid","trim","length","maxLength","pattern","test","isNumeric","inputChangedHandler","event","controlName","updatedControls","target","setState","handleSignupClick","console","log","prevState","render","formElementsArray","key","push","id","config","form","map","formElement","loginRedirect","submitHandler"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport Input from '../UI/Input/Input';\nimport Button from '../UI/Button/Button';\n\nimport PropTypes from 'prop-types';\nimport { Link,Redirect } from 'react-router-dom';\n\nimport Header from '../Header/Header'\nimport Toolbar from '../Toolbar/Toolbar'\n\nclass Login extends Component {\n  state={\n    controls:{\n      email:{\n        elementType: 'input',\n        elementConfig:{\n          type: 'email',\n          placeholder: 'Email'\n        },\n        value:'',\n        validation:{\n          required:true,\n          isEmail: true,\n        },\n        valid: false,\n        touched: false\n      },\n      password:{\n        elementType: 'input',\n        elementConfig:{\n          type: 'password',\n          placeholder: 'password'\n        },\n        value:'',\n        validation:{\n          required:true,\n          minLength:6,\n        },\n        valid: false,\n        touched: false,\n      }\n    },\n    isSignup:false,\n  }\n\n  checkValidity=(value,rules)=>{\n    let isValid = true;\n\n    if ( !rules ) {\n      return true;\n    }\n\n    if (rules.required){\n      isValid = value.trim() && isValid;\n    }\n\n    if (rules.minLength){\n      isValid = value.length >= rules.minLength && isValid;\n    }\n\n    if (rules.maxLength){\n      isValid = value.length <= rules.maxLength && isValid;\n    }\n\n    if (rules.isEmail){\n      const pattern = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\n      isValid = pattern.test( value ) && isValid\n    }\n\n    if (rules.isNumeric){\n      const pattern = /^\\d+$/;\n      isValid = pattern.test(value)&&isValid;\n    }\n    return isValid;\n  }\n\n  inputChangedHandler=(event, controlName)=>{\n    const updatedControls ={\n      ...this.state.controls,\n      [controlName]:{\n        ...this.state.controls.[controlName],\n        value: event.target.value,\n        valid: this.checkValidity(event.target.value, this.state.controls[controlName].validation),\n        touched:true\n      }\n    };\n\n    this.setState({controls: updatedControls});\n  }\n\n  handleSignupClick=()=>{\n    console.log('sd')\n    this.setState(prevState =>{\n      return {isSignup: !prevState.isSignup};\n    });\n  }\n\n\n\n\n  render(){\n    const formElementsArray=[];\n    for ( let key in this.state.controls){\n      formElementsArray.push({\n        id:key,\n        config:this.state.controls[key],\n      });\n    }\n\n    let form = formElementsArray.map( formElement =>(\n      <Input\n          key={formElement.id}\n          elementType={formElement.config.elementType}\n          elementConfig={formElement.config.elementConfig}\n          value={formElement.config.value}\n          invalid={!formElement.config.valid}\n          shouldValidate={formElement.config.validation}\n          touched={formElement.config.touched}\n          changed={(event)=> this.inputChangedHandler(event, formElement.id)}\n      />\n    ));\n\n\n    let loginRedirect=null;\n    if (this.state.isSignup){\n      loginRedirect = <Redirect to='/signup' />\n    }\n\n\n    return (\n      <div className='ui container'>\n        <Header />\n        <Toolbar />\n          <div className='ui compact segment'>\n            {loginRedirect}\n            <form className='ui form' onSubmit={this.submitHandler}>\n\n              {form}\n              <Button\n                btnType='green'>\n                Login\n              </Button>\n            </form>\n\n          </div>\n          <Button\n            btnType='bottom attached'\n            clicked={this.handleSignupClick}\n          >\n            SignUp\n          </Button>\n    </div>\n\n\n\n    );\n  }\n}\nexport default Login\n"]},"metadata":{},"sourceType":"module"}